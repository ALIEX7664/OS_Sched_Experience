# 计算机操作系统进程与资源管理实验

实验时间：2020.6.29 - 2020.7.9



## 说明

​	模拟计算机操作系统进程调度，完成资源释放、资源分配、进程状态转换与进程创建的功能。



## 记录

### 7-1

1. 完善main.c代码
2. 修改了RL，PCB->OcpResList[]的首要元素节点为头节点，指向首要元素
3. 在Destory函数中添加代码，防止子进程销毁父进程，并且在KillTree函数中加入释放资源相关代码
4. 修改了所有队列的初始化方式
5. 添加了Uninstaller卸载函数
6. 减少了初始进程，初始进程，现在只有"init"进程，且该进程为所有进程的父进程。

### 7-3

1. 修正了读取空指针的问题，在函数中申请局部变量并获取资源队列时，由于资源队列初始化后，头指针指向空区域0x000000,所以局部变量获取到的是0地址指针，而非属于资源队列的指针，对此做修改都是无效且会报错的
2. 修正了二级指针错误
3. 修正了删除PCB时没有从阻塞队列或父子关系中删除PCB的清况
4. 增加了为所有结构体中的指针分配空间

### 7-4

1. 将所有的malloc空间分配改为calloc空间分配，自动初始化，防止意外情况发生
2. 修改了释放资源时的调度情况，只有进程阻塞才会被调度
3. 简化代码，将多个重复操作定义为函数，并删除不必要的局部变量
4. 修复了阻塞队列与子对列中进程移出队列的问题
5. 更新Uninstaller函数，使之能将结构体所有指针的分配空间释放
6. 修改了显示当前进程运行的代码位置，将其从Scheduler()函数中转移到main.c中，使之可以显示每次指令执行后的当前运行进程



### 7-8

​	1. 完善实验代码并设计TestShell文件

